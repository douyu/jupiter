(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{327:function(t,n,o){t.exports=o.p+"assets/img/configdown1.689aefc1.png"},384:function(t,n,o){"use strict";o.r(n);var s=o(10),_=Object(s.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"_9-4-应用配置下发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-4-应用配置下发"}},[t._v("#")]),t._v(" 9.4 应用配置下发")]),t._v(" "),n("p",[t._v("应用配置是结合"),n("code",[t._v("confgo")]),t._v("一起使用。")]),t._v(" "),n("h2",{attrs:{id:"_9-4-1-配置下发流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-4-1-配置下发流程"}},[t._v("#")]),t._v(" 9.4.1 配置下发流程")]),t._v(" "),n("p",[t._v("配置下发流程如下所示\n"),n("img",{attrs:{src:o(327),alt:"image"}})]),t._v(" "),n("ul",[n("li",[t._v("用户在Juno配置中心进行配置新增或变更操作，在点击发布之后配置会同步到机房代理服务（Juno Proxy），再将配置数据写入机房内的ETCD中；")]),t._v(" "),n("li",[t._v("客户端（Juno Agent）监听 ETCD 的数据变化来更新配置数据；")]),t._v(" "),n("li",[t._v("客户端（Juno Agent）从配置中心获取到应用程序相关的最新版本配置文件后，更新本地的内存缓存；")]),t._v(" "),n("li",[t._v("客户端（Juno Agent）在更新内存缓存的同时会在本地文件系统中缓存一份，在服务不可用或者网络故障时，让应用程序直接使用本地文件配置；")]),t._v(" "),n("li",[t._v("应用程序从客户端（Juno Agent）获取最新的配置。")]),t._v(" "),n("li",[t._v("客户端（Juno Agent）维护应用配置的关系，通过长轮询，用户可以实时获取应用最新配置")])])])}),[],!1,null,null,null);n.default=_.exports}}]);